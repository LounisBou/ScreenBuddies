# Phase 5.1: Project Setup

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Create Flutter project with all dependencies and directory structure.

**Architecture:** Standard Flutter project with clean architecture directories.

**Tech Stack:** Flutter 3.x, pubspec.yaml configuration

**Prerequisites:** Flutter SDK installed, Phase 4 complete

**Reference:** `docs/plans/phase-5-flutter-foundation.md` Tasks 1-3

---

## Task 1: Create Flutter Project

**Step 1: Create new Flutter project**

```bash
cd /Users/lounis/dev/ScreenBuddies
flutter create --org com.screenbuddies --platforms=android,ios,web frontend
```

**Step 2: Verify installation**

```bash
cd frontend && flutter doctor
```
Expected: No critical issues

**Step 3: Test default app**

```bash
flutter run -d chrome
```
Expected: Default Flutter counter app runs in browser

**Step 4: Clean up default test file**

```bash
rm frontend/test/widget_test.dart
```

**Step 5: Commit**

```bash
cd /Users/lounis/dev/ScreenBuddies
git add frontend
git commit -m "chore: initialize Flutter project"
```

---

## Task 2: Add Dependencies

**Step 1: Update pubspec.yaml**

Replace entire content of `frontend/pubspec.yaml`:
```yaml
name: screenbuddies
description: Group decision app for movies, games, and more.
publish_to: 'none'
version: 1.0.0+1

environment:
  sdk: '>=3.0.0 <4.0.0'

dependencies:
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter

  # State Management
  flutter_riverpod: ^2.4.9
  riverpod_annotation: ^2.3.3

  # Navigation
  go_router: ^13.0.0

  # HTTP & API
  dio: ^5.4.0
  retrofit: ^4.0.3
  json_annotation: ^4.8.1

  # Storage
  flutter_secure_storage: ^9.0.0
  shared_preferences: ^2.2.2

  # Offline Cache
  hive: ^2.2.3
  hive_flutter: ^1.1.0

  # Connectivity
  connectivity_plus: ^5.0.2

  # UI
  google_fonts: ^6.1.0
  cached_network_image: ^3.3.1
  flutter_svg: ^2.0.9

  # Utils
  intl: ^0.18.1
  equatable: ^2.0.5

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^3.0.1
  build_runner: ^2.4.7
  riverpod_generator: ^2.3.9
  retrofit_generator: ^8.0.6
  json_serializable: ^6.7.1
  hive_generator: ^2.0.1

flutter:
  uses-material-design: true
  generate: true
```

**Step 2: Install dependencies**

```bash
cd /Users/lounis/dev/ScreenBuddies/frontend
flutter pub get
```
Expected: All dependencies resolve successfully

**Step 3: Create l10n.yaml**

Create `frontend/l10n.yaml`:
```yaml
arb-dir: lib/l10n
template-arb-file: app_en.arb
output-localization-file: app_localizations.dart
```

**Step 4: Commit**

```bash
git add .
git commit -m "chore: add project dependencies"
```

---

## Task 3: Create Directory Structure

**Step 1: Create core directories**

```bash
cd /Users/lounis/dev/ScreenBuddies/frontend/lib
mkdir -p core/config core/constants core/errors core/extensions core/theme core/utils core/services
```

**Step 2: Create data layer directories**

```bash
mkdir -p data/datasources/remote data/datasources/local data/models data/repositories data/cache
```

**Step 3: Create domain layer directories**

```bash
mkdir -p domain/entities domain/enums
```

**Step 4: Create presentation layer directories**

```bash
mkdir -p presentation/providers presentation/router presentation/screens/auth presentation/screens/home presentation/widgets/common
```

**Step 5: Create other directories**

```bash
mkdir -p l10n services
```

**Step 6: Create app config**

Create `frontend/lib/core/config/app_config.dart`:
```dart
class AppConfig {
  static const String appName = 'ScreenBuddies';
  static const String apiBaseUrl = 'http://localhost:8000/api/v1';

  // For production, use environment variables
  static String get baseUrl {
    const envUrl = String.fromEnvironment('API_URL');
    return envUrl.isNotEmpty ? envUrl : apiBaseUrl;
  }
}
```

**Step 7: Commit**

```bash
cd /Users/lounis/dev/ScreenBuddies
git add frontend/lib
git commit -m "chore: create directory structure"
```

---

## Directory Structure Verification

After completion, `frontend/lib/` should contain:
```
lib/
├── core/
│   ├── config/
│   │   └── app_config.dart
│   ├── constants/
│   ├── errors/
│   ├── extensions/
│   ├── services/
│   ├── theme/
│   └── utils/
├── data/
│   ├── cache/
│   ├── datasources/
│   │   ├── local/
│   │   └── remote/
│   ├── models/
│   └── repositories/
├── domain/
│   ├── entities/
│   └── enums/
├── l10n/
├── presentation/
│   ├── providers/
│   ├── router/
│   ├── screens/
│   │   ├── auth/
│   │   └── home/
│   └── widgets/
│       └── common/
├── services/
└── main.dart
```

---

## Phase 5.1 Completion Checklist

- [ ] Flutter project created with `flutter create`
- [ ] Default app runs in browser
- [ ] All dependencies in pubspec.yaml
- [ ] `flutter pub get` succeeds
- [ ] l10n.yaml created
- [ ] Directory structure created
- [ ] app_config.dart created
- [ ] All changes committed

---

## Next Sub-Phase

Proceed to **Phase 5.2: Theme System** for design system setup.
